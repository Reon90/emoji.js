!function(u,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("emoji",[],e):"object"==typeof exports?exports.emoji=e():u.emoji=e()}(this,function(){return function(u){function e(t){if(_[t])return _[t].exports;var r=_[t]={exports:{},id:t,loaded:!1};return u[t].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var _={};return e.m=u,e.c=_,e.p="",e(0)}([function(u,e){"use strict";function _(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}function t(u,e){return u.replace(/\{([\w-]+)\}/g,function(u,_){return e[_]})}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function u(u,e){for(var _=0;_<e.length;_++){var t=e[_];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(u,t.key,t)}}return function(e,_,t){return _&&u(e.prototype,_),t&&u(e,t),e}}(),n=["(?:_uD83C[_uDDE6-_uDDFF]){2}","_uD83C_uDFF3_u200D_uD83C_uDF08","[_u0023-_u0039]_u20E3","_uD83D[_uDC68_uDC69](_uD83C[_uDFFB-_uDFFF])?[_u200D_u200C]([_u2708_u2696_u2695]|[_uD83D_uD83C][_uDFA8_uDE80_uDCBB_uDFEB_uDF93_uDFA4_uDD2C_uDCBC_uDD27_uDE92_uDF3E_uDFED_uDF73])","([_uD83D_uD83C_uD83E][_uDC00-_uDFFF]|[_u270A-_u270D_u261D_u26F9])(_uD83C[_uDFFB-_uDFFF])?[_u200D_u200C][_u2640_u2642]","(?:[_uD83D_uD83C_uD83E][_uDC00-_uDFFF]|[_u270A-_u270D_u261D_u26F9])_uD83C[_uDFFB-_uDFFF]","_uD83D[_uDC68_uDC69][_u200D_u200C].*?_uD83D[_uDC66-_uDC69](?![_u200D_u200C])","_uD83D_uDC41_u200D_uD83D_uDDE8","[_uD83D_uD83C_uD83E][_uDC00-_uDFFF]","[_u3297_u3299_u303D_u2B50_u2B55_u2B1B_u27BF_u27A1_u24C2_u25B6_u25C0_u2600_u2705_u21AA_u21A9]","[_u203C_u2049_u2122_u2328_u2601_u260E_u261d_u2620_u2626_u262A_u2638_u2639_u263a_u267B_u267F_u2702_u2708]","[_u2194-_u2199]","[_u2B05-_u2B07]","[_u2934-_u2935]","[_u2795-_u2797]","[_u2709-_u2764]","[_u2622-_u2623]","[_u262E-_u262F]","[_u231A-_u231B]","[_u23E9-_u23EF]","[_u23F0-_u23F4]","[_u23F8-_u23FA]","[_u25AA-_u25AB]","[_u25FB-_u25FE]","[_u2602-_u2618]","[_u2648-_u2653]","[_u2660-_u2668]","[_u26A0-_u26FA]","[_u2692-_u269C]","[_u26FD_u2139_u2640_u2642_u27B0_u3030_u00A9_u00AE_u23CF_u2B1C]"],o='<img class="emoji emoji--{code} js-smile-insert" src="{src}" srcset="{src} 1x, {src_x2} 2x" unselectable="on">',i=new RegExp(n.join("|").replace(/_/g,"\\"),"g"),D=/<img.*?class="emoji\semoji--(.+?)\sjs-smile-insert".*?>/gi,c=/<[^>]+>/gim,a=/<style\b[^>]*>([\s\S]*?)<\/style>/gim,s=/<br[\s\/]*>|<img\s+class="emoji\semoji[-\w\s]+"\s+((src|srcset|unselectable)="[^"]*"\s*)+>/i,l=function(){function u(e,t){_(this,u),this.url=e+"/{code}.png",this.url2x=t+"/{code}.png"}return r(u,[{key:"emojiToHtml",value:function(u){var e=this;return u=u.replace(/\uFE0F/g,""),u.replace(i,function(u){return e.buildImgFromEmoji(u)})}},{key:"buildImgFromEmoji",value:function(u){var e=this.extractEmojiToCodePoint(u);return t(o,{code:e,src:t(this.url,{code:e}),src_x2:t(this.url2x,{code:e})})}},{key:"extractEmojiToCodePoint",value:function(u){var e=this;return u.split("").map(function(e,_){return u.codePointAt(_).toString(16)}).filter(function(u){return!e.isSurrogatePair(u)},this).join("-")}},{key:"isSurrogatePair",value:function(u){return u=parseInt(u,16),u>=55296&&u<=57343}},{key:"htmlToEmoji",value:function(u){return u.replace(D,function(u,e){var _=e.split("-").map(function(u){return parseInt(u,16)}),t=String.fromCodePoint.apply(null,_);return t.match(i)?t:""})}},{key:"cleanUp",value:function(u){return u.replace(a,"").replace(c,function(u){return u.match(s)?u:""}).replace(/\n/g,"")}},{key:"restoreCaret",value:function(u){var e=document.createRange();e.selectNodeContents(u),e.collapse(!1);var _=window.getSelection();_.removeAllRanges(),_.addRange(e)}}],[{key:"getEmoji",value:function(u){return u=u.replace(/\uFE0F/g,""),u.match(i)}}]),u}();e["default"]=l,u.exports=e["default"]}])});